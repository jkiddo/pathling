"use strict";(self.webpackChunkpathling_site=self.webpackChunkpathling_site||[]).push([[229],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>d});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},h="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),h=p(n),m=o,d=h["".concat(l,".").concat(m)]||h[m]||u[m]||a;return n?r.createElement(d,i(i({ref:t},c),{},{components:n})):r.createElement(d,i({ref:t},c))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[h]="string"==typeof e?e:o,i[1]=s;for(var p=2;p<a;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},4590:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>p});var r=n(7462),o=(n(7294),n(3905));const a={sidebar_position:2,description:"Instructions for getting started with Pathling server."},i="Getting started",s={unversionedId:"server/getting-started",id:"server/getting-started",title:"Getting started",description:"Instructions for getting started with Pathling server.",source:"@site/docs/server/getting-started.md",sourceDirName:"server",slug:"/server/getting-started",permalink:"/docs/server/getting-started",draft:!1,editUrl:"https://github.com/aehrc/pathling/tree/main/site/docs/server/getting-started.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,description:"Instructions for getting started with Pathling server."},sidebar:"server",previous:{title:"Introduction",permalink:"/docs/server/"},next:{title:"Import",permalink:"/docs/server/operations/import"}},l={},p=[{value:"Using Docker Compose",id:"using-docker-compose",level:2}],c={toc:p},h="wrapper";function u(e){let{components:t,...n}=e;return(0,o.kt)(h,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"getting-started"},"Getting started"),(0,o.kt)("p",null,"The easiest way to get Pathling up and running is to use the pre-built\n",(0,o.kt)("a",{parentName:"p",href:"https://www.docker.com/"},"Docker")," image."),(0,o.kt)("p",null,"Instructions for installing Docker on your machine can be found here:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.docker.com/docker-for-mac/install/"},"Install Docker Desktop on Mac")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.docker.com/docker-for-windows/install/"},"Install Docker Desktop on Windows")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.docker.com/install/linux/ubuntu/"},"Install Docker for Linux"))),(0,o.kt)("p",null,"Once you have Docker installed on your computer, you can run an instance of\nPathling by issuing the following command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"docker run --rm -p 8080:8080 aehrc/pathling\n")),(0,o.kt)("p",null,"This will download and run a fully functional instance of Pathling, with\nsensible default configuration. Any data you load into this instance will not be\npersisted beyond the termination of the container, as you have not yet set up a\npersistent volume for storage."),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"--rm")," option deletes the container after it has been stopped."),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"-p 8080:8080")," option maps the internal port 8080 (which is the port that\nPathling runs on by default) to port 8080 on the host machine."),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"aehrc/pathling")," image reference points to the latest image of\n",(0,o.kt)("a",{parentName:"p",href:"https://hub.docker.com/r/aehrc/pathling"},"Pathling on Docker Hub"),". Tags can be\nadded to the end of the image reference to refer to particular versions of\nPathling."),(0,o.kt)("h2",{id:"using-docker-compose"},"Using Docker Compose"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://docs.docker.com/compose/"},"Docker Compose")," is a tool for running a\ncontainer (or set of containers) using a configuration defined in a\n",(0,o.kt)("a",{parentName:"p",href:"https://yaml.org/"},"YAML")," file (known as a\n",(0,o.kt)("a",{parentName:"p",href:"https://docs.docker.com/compose/compose-file/"},"Docker Compose file"),")."),(0,o.kt)("p",null,"You can find instructions for installing Docker Compose at:\n",(0,o.kt)("a",{parentName:"p",href:"https://docs.docker.com/compose/install/"},"Install Compose")),(0,o.kt)("p",null,"As an example of using Pathling with Docker Compose, we will create a simple\nDocker Compose file that sets up persistent storage, in addition to overriding\nseveral configuration parameters using environment variables."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},'version: "3"\nservices:\n  pathling:\n    image: aehrc/pathling:7\n    ports:\n      - 8080:8080\n    environment:\n      pathling.terminology.serverUrl: https://tx.somecompany.com/fhir\n      pathling.cors.allowedOrigins: http://localhost:3000\n    volumes:\n      - pathling:/usr/share/warehouse\n      - /home/me/data:/usr/share/staging\nvolumes:\n  pathling:\n    driver: local\n')),(0,o.kt)("p",null,"This file should be saved into a file named ",(0,o.kt)("inlineCode",{parentName:"p"},"docker-compose.yml")," in the current\ndirectory. Then the following command can be issued to run the Pathling server:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"docker-compose up\n")),(0,o.kt)("p",null,"In this example, the ",(0,o.kt)("inlineCode",{parentName:"p"},"image")," key is being used to refer to the latest ",(0,o.kt)("inlineCode",{parentName:"p"},"7.x"),"\nversion of the Pathling image on Docker Hub."),(0,o.kt)("p",null,"We are setting the ",(0,o.kt)("inlineCode",{parentName:"p"},"pathling.terminology.serverUrl")," configuration variable to\npoint to a\nparticular ",(0,o.kt)("a",{parentName:"p",href:"https://hl7.org/fhir/R4/terminology-service.html"},"FHIR terminology service"),"\nendpoint."),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"pathling.cors.allowedOrigins")," variable is set to\n",(0,o.kt)("inlineCode",{parentName:"p"},"http://localhost:3000"),", which will configure the CORS support in Pathling to\nallow a browser-based frontend application to integrate with the Pathling API."),(0,o.kt)("p",null,"For a full list of all available configuration variables, see\n",(0,o.kt)("a",{parentName:"p",href:"./configuration"},"Configuration"),"."),(0,o.kt)("p",null,"In the ",(0,o.kt)("inlineCode",{parentName:"p"},"volumes")," section, we set up two volumes: one for storing the warehouse\ndata files, and one for importing data. The first volume, named ",(0,o.kt)("inlineCode",{parentName:"p"},"pathling"),', is\npersistent but managed by Docker. The second volume is a "bind mount", where we\nare mounting an existing directory on our host operating system into the Docker\ncontainer. This might be where we have our FHIR data stored. For more\ninformation, read\n',(0,o.kt)("a",{parentName:"p",href:"https://docs.docker.com/storage/#choose-the-right-type-of-mount"},"Choose the right type of mount"),"\n."),(0,o.kt)("p",null,"Now when we invoke the ",(0,o.kt)("a",{parentName:"p",href:"./operations/import"},"import operation"),", we can\npoint Pathling to a filesystem URL,\ne.g. ",(0,o.kt)("inlineCode",{parentName:"p"},"file:///usr/share/staging/Patient.ndjson"),". Pathling will persist this data\nwithin files that it stores in the ",(0,o.kt)("inlineCode",{parentName:"p"},"pathling")," managed volume."))}u.isMDXComponent=!0}}]);